<div class="login-container">
  <!-- Animated background -->
  <div class="bg-gradient"></div>
  <div class="bg-shapes">
    <div class="shape shape-1"></div>
    <div class="shape shape-2"></div>
    <div class="shape shape-3"></div>
  </div>

  <!-- Main card -->
  <div class="login-card">
    <!-- Logo/Brand -->
    <div class="brand-section">
      <div class="logo">
        <svg width="48" height="48" viewBox="0 0 48 48" fill="none">
          <path d="M24 4L6 14V34L24 44L42 34V14L24 4Z" stroke="currentColor" stroke-width="2" fill="none"/>
          <circle cx="24" cy="24" r="8" fill="currentColor"/>
          <path d="M24 16V32M16 24H32" stroke="white" stroke-width="2"/>
        </svg>
      </div>
      <h1 class="brand-title">OddsAlert Tracker</h1>
      <p class="brand-subtitle">Track your winning strategy</p>
    </div>

    <!-- Tab switcher -->
    <div class="tab-switcher">
      <button 
        class="tab-button" 
        [class.active]="isLoginMode"
        (click)="toggleMode()">
        Login
      </button>
      <button 
        class="tab-button" 
        [class.active]="!isLoginMode"
        (click)="toggleMode()">
        Register
      </button>
      <div class="tab-indicator" [class.right]="!isLoginMode"></div>
    </div>

    <!-- Login Form -->
    <form *ngIf="isLoginMode" [formGroup]="loginForm" (ngSubmit)="onLogin()" class="auth-form">
      <div class="form-group">
        <label for="usernameOrEmail">Username or Email</label>
        <div class="input-wrapper">
          <svg class="input-icon" width="20" height="20" viewBox="0 0 20 20" fill="none">
            <path d="M10 10C12.21 10 14 8.21 14 6C14 3.79 12.21 2 10 2C7.79 2 6 3.79 6 6C6 8.21 7.79 10 10 10ZM10 12C7.33 12 2 13.34 2 16V18H18V16C18 13.34 12.67 12 10 12Z" fill="currentColor"/>
          </svg>
          <input
            id="usernameOrEmail"
            type="text"
            formControlName="usernameOrEmail"
            placeholder="Enter your username or email"
            [class.error]="loginForm.get('usernameOrEmail')?.invalid && loginForm.get('usernameOrEmail')?.touched"
          />
        </div>
        <span class="error-text" *ngIf="loginForm.get('usernameOrEmail')?.invalid && loginForm.get('usernameOrEmail')?.touched">
          Username or email is required
        </span>
      </div>

      <div class="form-group">
        <label for="password">Password</label>
        <div class="input-wrapper">
          <svg class="input-icon" width="20" height="20" viewBox="0 0 20 20" fill="none">
            <path d="M15 7H14V5C14 2.79 12.21 1 10 1C7.79 1 6 2.79 6 5V7H5C3.9 7 3 7.9 3 9V17C3 18.1 3.9 19 5 19H15C16.1 19 17 18.1 17 17V9C17 7.9 16.1 7 15 7ZM10 14C8.9 14 8 13.1 8 12C8 10.9 8.9 10 10 10C11.1 10 12 10.9 12 12C12 13.1 11.1 14 10 14ZM12 7H8V5C8 3.9 8.9 3 10 3C11.1 3 12 3.9 12 5V7Z" fill="currentColor"/>
          </svg>
          <input
            id="password"
            [type]="showPassword ? 'text' : 'password'"
            formControlName="password"
            placeholder="Enter your password"
            [class.error]="loginForm.get('password')?.invalid && loginForm.get('password')?.touched"
          />
          <button type="button" class="password-toggle" (click)="togglePasswordVisibility()">
            <svg *ngIf="!showPassword" width="20" height="20" viewBox="0 0 20 20" fill="none">
              <path d="M10 4C5 4 1.73 7.11 1 10C1.73 12.89 5 16 10 16C15 16 18.27 12.89 19 10C18.27 7.11 15 4 10 4ZM10 14C7.79 14 6 12.21 6 10C6 7.79 7.79 6 10 6C12.21 6 14 7.79 14 10C14 12.21 12.21 14 10 14ZM10 8C8.9 8 8 8.9 8 10C8 11.1 8.9 12 10 12C11.1 12 12 11.1 12 10C12 8.9 11.1 8 10 8Z" fill="currentColor"/>
            </svg>
            <svg *ngIf="showPassword" width="20" height="20" viewBox="0 0 20 20" fill="none">
              <path d="M10 6C12.21 6 14 7.79 14 10C14 10.35 13.94 10.69 13.84 11L16.49 13.65C17.74 12.52 18.73 11.12 19 10C18.27 7.11 15 4 10 4C8.91 4 7.88 4.19 6.93 4.52L8.84 6.43C9.15 6.33 9.47 6.27 9.81 6.27L10 6ZM1.71 3.29L3.41 5L4.14 5.73C2.77 6.88 1.7 8.34 1 10C1.73 12.89 5 16 10 16C11.19 16 12.32 15.78 13.35 15.39L13.94 16L16.29 18.35L17 17.64L2.41 3.05L1.71 3.29ZM6.86 7.15L8.14 8.43C8.05 8.61 8 8.8 8 9C8 10.1 8.9 11 10 11C10.2 11 10.39 10.95 10.57 10.86L11.85 12.14C11.28 12.39 10.65 12.55 10 12.55C7.79 12.55 6 10.76 6 8.55C6 7.9 6.16 7.27 6.41 6.7L6.86 7.15Z" fill="currentColor"/>
            </svg>
          </button>
        </div>
        <span class="error-text" *ngIf="loginForm.get('password')?.invalid && loginForm.get('password')?.touched">
          Password is required
        </span>
      </div>

      <div class="form-extras">
        <label class="checkbox-label">
          <input type="checkbox" formControlName="rememberMe">
          <span class="checkbox-custom"></span>
          <span>Remember me</span>
        </label>
        <a href="#" class="forgot-link">Forgot password?</a>
      </div>

      <button type="submit" class="submit-btn" [disabled]="loginForm.invalid || isLoading">
        <span *ngIf="!isLoading">Login</span>
        <span *ngIf="isLoading" class="loading-spinner"></span>
      </button>
    </form>

    <!-- Register Form -->
    <form *ngIf="!isLoginMode" [formGroup]="registerForm" (ngSubmit)="onRegister()" class="auth-form">
      <div class="form-group">
        <label for="username">Username</label>
        <div class="input-wrapper">
          <svg class="input-icon" width="20" height="20" viewBox="0 0 20 20" fill="none">
            <path d="M10 2C6.13 2 3 5.13 3 9C3 12.87 6.13 16 10 16C13.87 16 17 12.87 17 9C17 5.13 13.87 2 10 2ZM10 14C7.24 14 5 11.76 5 9C5 6.24 7.24 4 10 4C12.76 4 15 6.24 15 9C15 11.76 12.76 14 10 14Z" fill="currentColor"/>
          </svg>
          <input
            id="username"
            type="text"
            formControlName="username"
            placeholder="Choose a username"
            [class.error]="registerForm.get('username')?.invalid && registerForm.get('username')?.touched"
          />
        </div>
        <span class="error-text" *ngIf="registerForm.get('username')?.errors?.['required'] && registerForm.get('username')?.touched">
          Username is required
        </span>
        <span class="error-text" *ngIf="registerForm.get('username')?.errors?.['minlength']">
          Username must be at least 3 characters
        </span>
      </div>

      <div class="form-group">
        <label for="email">Email</label>
        <div class="input-wrapper">
          <svg class="input-icon" width="20" height="20" viewBox="0 0 20 20" fill="none">
            <path d="M16 4H4C2.9 4 2.01 4.9 2.01 6L2 14C2 15.1 2.9 16 4 16H16C17.1 16 18 15.1 18 14V6C18 4.9 17.1 4 16 4ZM16 8L10 11L4 8V6L10 9L16 6V8Z" fill="currentColor"/>
          </svg>
          <input
            id="email"
            type="email"
            formControlName="email"
            placeholder="Enter your email"
            [class.error]="registerForm.get('email')?.invalid && registerForm.get('email')?.touched"
          />
        </div>
        <span class="error-text" *ngIf="registerForm.get('email')?.errors?.['required'] && registerForm.get('email')?.touched">
          Email is required
        </span>
        <span class="error-text" *ngIf="registerForm.get('email')?.errors?.['email']">
          Invalid email format
        </span>
      </div>

      <div class="form-group">
        <label for="reg-password">Password</label>
        <div class="input-wrapper">
          <svg class="input-icon" width="20" height="20" viewBox="0 0 20 20" fill="none">
            <path d="M15 7H14V5C14 2.79 12.21 1 10 1C7.79 1 6 2.79 6 5V7H5C3.9 7 3 7.9 3 9V17C3 18.1 3.9 19 5 19H15C16.1 19 17 18.1 17 17V9C17 7.9 16.1 7 15 7ZM10 14C8.9 14 8 13.1 8 12C8 10.9 8.9 10 10 10C11.1 10 12 10.9 12 12C12 13.1 11.1 14 10 14ZM12 7H8V5C8 3.9 8.9 3 10 3C11.1 3 12 3.9 12 5V7Z" fill="currentColor"/>
          </svg>
          <input
            id="reg-password"
            [type]="showPassword ? 'text' : 'password'"
            formControlName="password"
            placeholder="Create a password"
            [class.error]="registerForm.get('password')?.invalid && registerForm.get('password')?.touched"
          />
          <button type="button" class="password-toggle" (click)="togglePasswordVisibility()">
            <svg *ngIf="!showPassword" width="20" height="20" viewBox="0 0 20 20" fill="none">
              <path d="M10 4C5 4 1.73 7.11 1 10C1.73 12.89 5 16 10 16C15 16 18.27 12.89 19 10C18.27 7.11 15 4 10 4ZM10 14C7.79 14 6 12.21 6 10C6 7.79 7.79 6 10 6C12.21 6 14 7.79 14 10C14 12.21 12.21 14 10 14ZM10 8C8.9 8 8 8.9 8 10C8 11.1 8.9 12 10 12C11.1 12 12 11.1 12 10C12 8.9 11.1 8 10 8Z" fill="currentColor"/>
            </svg>
            <svg *ngIf="showPassword" width="20" height="20" viewBox="0 0 20 20" fill="none">
              <path d="M10 6C12.21 6 14 7.79 14 10C14 10.35 13.94 10.69 13.84 11L16.49 13.65C17.74 12.52 18.73 11.12 19 10C18.27 7.11 15 4 10 4C8.91 4 7.88 4.19 6.93 4.52L8.84 6.43C9.15 6.33 9.47 6.27 9.81 6.27L10 6ZM1.71 3.29L3.41 5L4.14 5.73C2.77 6.88 1.7 8.34 1 10C1.73 12.89 5 16 10 16C11.19 16 12.32 15.78 13.35 15.39L13.94 16L16.29 18.35L17 17.64L2.41 3.05L1.71 3.29ZM6.86 7.15L8.14 8.43C8.05 8.61 8 8.8 8 9C8 10.1 8.9 11 10 11C10.2 11 10.39 10.95 10.57 10.86L11.85 12.14C11.28 12.39 10.65 12.55 10 12.55C7.79 12.55 6 10.76 6 8.55C6 7.9 6.16 7.27 6.41 6.7L6.86 7.15Z" fill="currentColor"/>
            </svg>
          </button>
        </div>
        <span class="error-text" *ngIf="registerForm.get('password')?.errors?.['required'] && registerForm.get('password')?.touched">
          Password is required
        </span>
        <span class="error-text" *ngIf="registerForm.get('password')?.errors?.['minlength']">
          Password must be at least 6 characters
        </span>
      </div>

      <div class="form-group">
        <label for="name">Full Name (Optional)</label>
        <div class="input-wrapper">
          <svg class="input-icon" width="20" height="20" viewBox="0 0 20 20" fill="none">
            <path d="M10 10C12.21 10 14 8.21 14 6C14 3.79 12.21 2 10 2C7.79 2 6 3.79 6 6C6 8.21 7.79 10 10 10ZM10 12C7.33 12 2 13.34 2 16V18H18V16C18 13.34 12.67 12 10 12Z" fill="currentColor"/>
          </svg>
          <input
            id="name"
            type="text"
            formControlName="name"
            placeholder="Enter your full name"
          />
        </div>
      </div>

      <button type="submit" class="submit-btn" [disabled]="registerForm.invalid || isLoading">
        <span *ngIf="!isLoading">Create Account</span>
        <span *ngIf="isLoading" class="loading-spinner"></span>
      </button>
    </form>

    <!-- Messages -->
    <div class="message success-message" *ngIf="successMessage">
      <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
        <path d="M10 0C4.48 0 0 4.48 0 10C0 15.52 4.48 20 10 20C15.52 20 20 15.52 20 10C20 4.48 15.52 0 10 0ZM8 15L3 10L4.41 8.59L8 12.17L15.59 4.58L17 6L8 15Z" fill="currentColor"/>
      </svg>
      {{ successMessage }}
    </div>

    <div class="message error-message" *ngIf="errorMessage">
      <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
        <path d="M10 0C4.48 0 0 4.48 0 10C0 15.52 4.48 20 10 20C15.52 20 20 15.52 20 10C20 4.48 15.52 0 10 0ZM11 15H9V13H11V15ZM11 11H9V5H11V11Z" fill="currentColor"/>
      </svg>
      {{ errorMessage }}
    </div>
  </div>
</div>